# RAG Pipeline Configuration

pipeline:
  name: rag_data_pipeline
  schedule: null 
  enabled: true
  
scraping:
  urls_file: "RAG/config/urls.txt"  # GCS path in bucket
  timeout: 60000
  min_success_rate: 0.7
  
embedding:
  model_name: "BAAI/llm-embedder"
  
indexing:
  index_type: "flat"
  
validation:
  baseline_strategy: "fixed"
  enable_tfdv: true
  max_anomaly_pct: 25.0
  max_critical_drift: 3
  
dvc:
  remote_name: "rag"
  track_items:
    - "raw_data/incremental"
    - "index"
  
gcs:
  # These values should be set via environment variables:
  # GCS_BUCKET_NAME and GCP_PROJECT_ID
  # Default values below are for backward compatibility only
  bucket_name: "${GCS_BUCKET_NAME:-medscan-data}"  # Uses env var if set, otherwise default
  project_id: "${GCP_PROJECT_ID:-medscanai-476203}"  # Uses env var if set, otherwise default

# Alert thresholds
alerts:
  enabled: true
  email_recipients:
    - "harshitha8.shekar@gmail.com"
    - "kothari.sau@northeastern.edu"
  
  thresholds:
    scraping_min_success_rate: 0.7
    validation_max_anomaly_pct: 25.0
    validation_max_drift_features: 3
    embedding_min_success_rate: 0.95
    indexing_min_vectors: 100